{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\ClassCore\\\\client\\\\src\\\\pages\\\\Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../components/Auth';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/Admin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Admin() {\n  _s();\n  const {\n    user,\n    logout\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [userForm, setUserForm] = useState({\n    email: '',\n    password: '',\n    role: 'teacher',\n    class: '',\n    stream: ''\n  });\n  const [classForm, setClassForm] = useState({\n    name: ''\n  });\n  const [streamForm, setStreamForm] = useState({\n    name: '',\n    class: ''\n  });\n  const [announcementForm, setAnnouncementForm] = useState({\n    title: '',\n    content: '',\n    image: '',\n    category: 'announcement'\n  });\n  const [classes, setClasses] = useState([]);\n  const [streams, setStreams] = useState([]);\n  const [announcements, setAnnouncements] = useState([]);\n  const [results, setResults] = useState([]);\n  const [resultFilters, setResultFilters] = useState({\n    class: '',\n    stream: ''\n  });\n  const [studentCounts, setStudentCounts] = useState({\n    totalStudents: 0,\n    classCounts: [],\n    streamCounts: []\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [editingClassId, setEditingClassId] = useState(null);\n  const [editingStreamId, setEditingStreamId] = useState(null);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setError('');\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        if (!token) {\n          setError('No token found. Redirecting to login...');\n          setTimeout(() => navigate('/login'), 2000);\n          return;\n        }\n        const school = (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9';\n        const [announcementsRes, classesRes, streamsRes, resultsRes, countsRes] = await Promise.all([axios.get('http://localhost:5000/api/announcements', {\n          params: {\n            school\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('http://localhost:5000/api/classes', {\n          params: {\n            school\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('http://localhost:5000/api/streams', {\n          params: {\n            school\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('http://localhost:5000/api/results', {\n          params: {\n            school\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('http://localhost:5000/api/users/count', {\n          params: {\n            school\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        setAnnouncements(announcementsRes.data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)));\n        setClasses(classesRes.data);\n        setStreams(streamsRes.data);\n        setResults(aggregateResults(resultsRes.data));\n        setStudentCounts(countsRes.data);\n      } catch (error) {\n        var _error$response;\n        console.error('Fetch error:', error);\n        if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n          setError('Session expired. Redirecting to login...');\n          localStorage.removeItem('token');\n          setTimeout(() => {\n            logout();\n            navigate('/login');\n          }, 2000);\n        } else {\n          var _error$response2, _error$response2$data;\n          setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to load data');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (user && user.role === 'admin') {\n      fetchData();\n    } else {\n      setError('Access denied: Admins only');\n      setLoading(false);\n    }\n  }, [user, navigate, logout]);\n  const aggregateResults = rawResults => {\n    const studentMap = {};\n    rawResults.forEach(result => {\n      const studentId = result.student._id;\n      if (!studentMap[studentId]) {\n        var _result$class, _result$stream, _result$teacher;\n        studentMap[studentId] = {\n          studentId,\n          student: result.student.email,\n          class: ((_result$class = result.class) === null || _result$class === void 0 ? void 0 : _result$class.name) || '-',\n          stream: ((_result$stream = result.stream) === null || _result$stream === void 0 ? void 0 : _result$stream.name) || '-',\n          subjects: {},\n          comment: '',\n          teacher: ((_result$teacher = result.teacher) === null || _result$teacher === void 0 ? void 0 : _result$teacher.email) || '-'\n        };\n      }\n      if (result.type === 'exam') {\n        if (!studentMap[studentId].subjects[result.subject]) {\n          studentMap[studentId].subjects[result.subject] = {\n            openingTerm: null,\n            midTerm: null,\n            endTerm: null\n          };\n        }\n        studentMap[studentId].subjects[result.subject][result.examType] = result.score;\n      } else if (result.type === 'comment') {\n        studentMap[studentId].comment = result.comment;\n      }\n    });\n    const students = Object.values(studentMap);\n    students.forEach(student => {\n      Object.values(student.subjects).forEach(subject => {\n        const scores = [subject.openingTerm, subject.midTerm, subject.endTerm].filter(score => score !== null);\n        const average = scores.length ? (scores.reduce((sum, score) => sum + score, 0) / scores.length).toFixed(1) : null;\n        subject.average = average;\n        subject.grade = average ? calculateGrade(average, student.comment) : '-';\n      });\n      const totalAverage = Object.values(student.subjects).map(s => s.average).filter(a => a !== null).reduce((sum, avg) => sum + parseFloat(avg), 0) / Object.values(student.subjects).length || null;\n      student.totalAverage = totalAverage ? totalAverage.toFixed(1) : null;\n    });\n    students.sort((a, b) => (b.totalAverage || 0) - (a.totalAverage || 0));\n    students.forEach((student, index) => {\n      student.rank = student.totalAverage ? index + 1 : '-';\n    });\n    return students;\n  };\n  const calculateGrade = (score, comment) => {\n    if (comment && comment.toLowerCase().includes('cheat')) return 'Y';\n    if (score >= 80) return 'A';\n    if (score >= 70) return 'B';\n    if (score >= 60) return 'C';\n    if (score >= 50) return 'D';\n    return 'E';\n  };\n  const handleUserInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserForm(prev => {\n      const newForm = {\n        ...prev,\n        [name]: value\n      };\n      if (name === 'class') {\n        newForm.stream = '';\n      }\n      return newForm;\n    });\n  };\n  const handleClassInputChange = e => {\n    setClassForm({\n      name: e.target.value\n    });\n  };\n  const handleStreamInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setStreamForm({\n      ...streamForm,\n      [name]: value\n    });\n  };\n  const handleAnnouncementInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setAnnouncementForm({\n      ...announcementForm,\n      [name]: value\n    });\n  };\n  const handleImageUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) {\n      setError('No file selected');\n      return;\n    }\n    if (!['image/jpeg', 'image/png'].includes(file.type)) {\n      setError('Only JPEG or PNG images are allowed');\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      setError('File size exceeds 5MB limit');\n      return;\n    }\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      formData.append('image', file);\n      const response = await axios.post('http://localhost:5000/api/upload-image', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAnnouncementForm({\n        ...announcementForm,\n        image: response.data.url\n      });\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to upload image');\n    }\n  };\n  const handleAddUser = async () => {\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('No token found. Redirecting to login...');\n        setTimeout(() => navigate('/login'), 2000);\n        return;\n      }\n      if (userForm.role === 'student' && (!userForm.class || !userForm.stream)) {\n        setError('Class and stream are required for students');\n        return;\n      }\n      const payload = {\n        email: userForm.email,\n        password: userForm.password,\n        role: userForm.role,\n        class: userForm.class || undefined,\n        stream: userForm.stream || undefined,\n        school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n      };\n      await axios.post('http://localhost:5000/api/users', payload, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert('User added successfully');\n      setUserForm({\n        email: '',\n        password: '',\n        role: 'teacher',\n        class: '',\n        stream: ''\n      });\n      const countsRes = await axios.get('http://localhost:5000/api/users/count', {\n        params: {\n          school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setStudentCounts(countsRes.data);\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      setError(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || 'Failed to add user');\n    }\n  };\n  const handleAddClass = async () => {\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const payload = {\n        name: classForm.name,\n        school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n      };\n      let response;\n      if (editingClassId) {\n        response = await axios.put(`http://localhost:5000/api/classes/${editingClassId}`, payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setClasses(classes.map(cls => cls._id === editingClassId ? response.data : cls));\n        setEditingClassId(null);\n      } else {\n        response = await axios.post('http://localhost:5000/api/classes', payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setClasses([...classes, response.data]);\n      }\n      alert(editingClassId ? 'Class updated' : 'Class added');\n      setClassForm({\n        name: ''\n      });\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      setError(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || 'Failed to save class');\n    }\n  };\n  const handleAddStream = async () => {\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const payload = {\n        name: streamForm.name,\n        class: streamForm.class,\n        school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n      };\n      let response;\n      if (editingStreamId) {\n        response = await axios.put(`http://localhost:5000/api/streams/${editingStreamId}`, payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setStreams(streams.map(str => str._id === editingStreamId ? response.data : str));\n        setEditingStreamId(null);\n      } else {\n        response = await axios.post('http://localhost:5000/api/streams', payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setStreams([...streams, response.data]);\n      }\n      alert(editingStreamId ? 'Stream updated' : 'Stream added');\n      setStreamForm({\n        name: '',\n        class: ''\n      });\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      setError(((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error) || 'Failed to save stream');\n    }\n  };\n  const handleAnnouncementSubmit = async e => {\n    e.preventDefault();\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const payload = {\n        ...announcementForm,\n        school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n      };\n      let response;\n      if (editingId) {\n        response = await axios.put(`http://localhost:5000/api/announcements/${editingId}`, payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setAnnouncements(announcements.map(ann => ann._id === editingId ? response.data : ann).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)));\n        setEditingId(null);\n      } else {\n        response = await axios.post('http://localhost:5000/api/announcements', payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setAnnouncements([response.data, ...announcements].sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)));\n      }\n      alert(editingId ? 'Announcement updated' : 'Announcement added');\n      setAnnouncementForm({\n        title: '',\n        content: '',\n        image: '',\n        category: 'announcement'\n      });\n    } catch (error) {\n      var _error$response7, _error$response7$data;\n      setError(((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.error) || 'Failed to save announcement');\n    }\n  };\n  const handleEditClass = cls => {\n    setClassForm({\n      name: cls.name\n    });\n    setEditingClassId(cls._id);\n  };\n  const handleEditStream = stream => {\n    setStreamForm({\n      name: stream.name,\n      class: stream.class\n    });\n    setEditingStreamId(stream._id);\n  };\n  const handleEditAnnouncement = announcement => {\n    setAnnouncementForm({\n      title: announcement.title,\n      content: announcement.content,\n      image: announcement.image || '',\n      category: announcement.category || 'announcement'\n    });\n    setEditingId(announcement._id);\n  };\n  const handleDeleteClass = async id => {\n    if (!window.confirm('Delete this class?')) return;\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/classes/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setClasses(classes.filter(cls => cls._id !== id));\n      alert('Class deleted');\n    } catch (error) {\n      var _error$response8, _error$response8$data;\n      setError(((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.error) || 'Failed to delete class');\n    }\n  };\n  const handleDeleteStream = async id => {\n    if (!window.confirm('Delete this stream?')) return;\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/streams/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setStreams(streams.filter(str => str._id !== id));\n      alert('Stream deleted');\n    } catch (error) {\n      var _error$response9, _error$response9$data;\n      setError(((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : (_error$response9$data = _error$response9.data) === null || _error$response9$data === void 0 ? void 0 : _error$response9$data.error) || 'Failed to delete stream');\n    }\n  };\n  const handleDeleteAnnouncement = async id => {\n    if (!window.confirm('Delete this announcement?')) return;\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/announcements/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAnnouncements(announcements.filter(ann => ann._id !== id));\n      alert('Announcement deleted');\n    } catch (error) {\n      var _error$response0, _error$response0$data;\n      setError(((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : (_error$response0$data = _error$response0.data) === null || _error$response0$data === void 0 ? void 0 : _error$response0$data.error) || 'Failed to delete announcement');\n    }\n  };\n  const handleResultFilterChange = async e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setResultFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    await fetchResults((user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9', name === 'class' ? value : resultFilters.class, name === 'stream' ? value : resultFilters.stream);\n  };\n  const fetchResults = async (school, classId, streamId) => {\n    try {\n      const params = {\n        school\n      };\n      if (classId) params.class = classId;\n      if (streamId) params.stream = streamId;\n      const response = await axios.get('http://localhost:5000/api/results', {\n        params,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setResults(aggregateResults(response.data));\n    } catch (error) {\n      var _error$response1, _error$response1$data;\n      setError(((_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : (_error$response1$data = _error$response1.data) === null || _error$response1$data === void 0 ? void 0 : _error$response1$data.error) || 'Failed to load results');\n    }\n  };\n  if (!user || user.role !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: \"Access denied: Admins only\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            value: userForm.email,\n            onChange: handleUserInputChange,\n            placeholder: \"User Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            name: \"password\",\n            value: userForm.password,\n            onChange: handleUserInputChange,\n            placeholder: \"User Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"role\",\n            children: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"role\",\n            name: \"role\",\n            value: userForm.role,\n            onChange: handleUserInputChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"teacher\",\n              children: \"Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"parent\",\n              children: \"Parent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"student\",\n              children: \"Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"admin\",\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"class\",\n            children: [\"Class \", userForm.role === 'student' && '(Required)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"class\",\n            name: \"class\",\n            value: userForm.class,\n            onChange: handleUserInputChange,\n            required: userForm.role === 'student',\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this), classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cls._id,\n              children: cls.name\n            }, cls._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"stream\",\n            children: [\"Stream \", userForm.role === 'student' && '(Required)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"stream\",\n            name: \"stream\",\n            value: userForm.stream,\n            onChange: handleUserInputChange,\n            required: userForm.role === 'student',\n            disabled: !userForm.class,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Stream\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this), streams.filter(s => !userForm.class || s.class === userForm.class).map(stream => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: stream._id,\n              children: stream.name\n            }, stream._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddUser,\n          children: \"Add User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Student Statistics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Total Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: studentCounts.totalStudents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Students per Class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 13\n          }, this), studentCounts.classCounts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No students assigned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: studentCounts.classCounts.map(count => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [count.className, \": \", count.count]\n            }, count.classId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Students per Stream\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this), studentCounts.streamCounts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No students assigned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: studentCounts.streamCounts.map(count => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [count.streamName, \" (\", count.className, \"): \", count.count]\n            }, count.streamId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: editingClassId ? 'Edit Class' : 'Add Class'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"className\",\n            children: \"Class Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"className\",\n            value: classForm.name,\n            onChange: handleClassInputChange,\n            placeholder: \"e.g., Grade 1\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddClass,\n          children: editingClassId ? 'Update Class' : 'Add Class'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this), editingClassId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"cancel-button\",\n          onClick: () => {\n            setClassForm({\n              name: ''\n            });\n            setEditingClassId(null);\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: editingStreamId ? 'Edit Stream' : 'Add Stream'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"streamName\",\n            children: \"Stream Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"streamName\",\n            name: \"name\",\n            value: streamForm.name,\n            onChange: handleStreamInputChange,\n            placeholder: \"e.g., Grade 1A\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"streamClass\",\n            children: \"Class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"streamClass\",\n            name: \"class\",\n            value: streamForm.class,\n            onChange: handleStreamInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this), classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cls._id,\n              children: cls.name\n            }, cls._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddStream,\n          children: editingStreamId ? 'Update Stream' : 'Add Stream'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 11\n        }, this), editingStreamId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"cancel-button\",\n          onClick: () => {\n            setStreamForm({\n              name: '',\n              class: ''\n            });\n            setEditingStreamId(null);\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Manage Classes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 9\n      }, this), classes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No classes available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Class Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: classes.map(cls => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: cls.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditClass(cls),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => handleDeleteClass(cls._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 19\n            }, this)]\n          }, cls._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Manage Streams\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 9\n      }, this), streams.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No streams available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Stream Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: streams.map(stream => {\n            var _classes$find;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: stream.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_classes$find = classes.find(cls => cls._id === stream.class)) === null || _classes$find === void 0 ? void 0 : _classes$find.name) || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEditStream(stream),\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 688,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-button\",\n                  onClick: () => handleDeleteStream(stream._id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this)]\n            }, stream._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: editingId ? 'Edit Announcement' : 'Add Announcement'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"admin-form\",\n        onSubmit: handleAnnouncementSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"title\",\n            name: \"title\",\n            value: announcementForm.title,\n            onChange: handleAnnouncementInputChange,\n            placeholder: \"Announcement Title\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"content\",\n            children: \"Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"content\",\n            name: \"content\",\n            value: announcementForm.content,\n            onChange: handleAnnouncementInputChange,\n            placeholder: \"Announcement Content\",\n            rows: \"5\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"image\",\n            children: \"Image (Optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"image\",\n            name: \"image\",\n            accept: \"image/jpeg,image/png\",\n            onChange: handleImageUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 13\n          }, this), announcementForm.image && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-preview\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: announcementForm.image,\n              alt: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"category\",\n            name: \"category\",\n            value: announcementForm.category,\n            onChange: handleAnnouncementInputChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"announcement\",\n              children: \"Announcement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"news\",\n              children: \"News\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"article\",\n              children: \"Article\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"activity\",\n              children: \"Activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: [editingId ? 'Update' : 'Add', \" Announcement\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 11\n        }, this), editingId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"cancel-button\",\n          onClick: () => {\n            setAnnouncementForm({\n              title: '',\n              content: '',\n              image: '',\n              category: 'announcement'\n            });\n            setEditingId(null);\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 9\n    }, this) : announcements.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-content\",\n      children: \"No announcements available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-announcements\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Existing Announcements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 776,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-announcement-grid\",\n        children: announcements.map(announcement => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-announcement-card\",\n          children: [announcement.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: announcement.image,\n            alt: announcement.title,\n            className: \"admin-card-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-card-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: announcement.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"admin-card-summary\",\n              children: announcement.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `category-tag ${announcement.category}`,\n              children: announcement.category || 'Announcement'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"admin-post-date\",\n              children: [\"Posted: \", new Date(announcement.createdAt).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-card-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditAnnouncement(announcement),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => handleDeleteAnnouncement(announcement._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 17\n          }, this)]\n        }, announcement._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 777,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"View Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 808,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"resultClass\",\n          children: \"Class\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"resultClass\",\n          name: \"class\",\n          value: resultFilters.class,\n          onChange: handleResultFilterChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Classes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 13\n          }, this), classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cls._id,\n            children: cls.name\n          }, cls._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"resultStream\",\n          children: \"Stream\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"resultStream\",\n          name: \"stream\",\n          value: resultFilters.stream,\n          onChange: handleResultFilterChange,\n          disabled: !resultFilters.class,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Streams\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 13\n          }, this), streams.filter(s => !resultFilters.class || s.class === resultFilters.class).map(stream => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: stream._id,\n            children: stream.name\n          }, stream._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 9\n      }, this), results.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No results available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 845,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Stream\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Opening-Term Exam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Mid-Term Exam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"End Term Marks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Grade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Rank\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 849,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: results.map(result => Object.entries(result.subjects).map(([subject, data]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: result.student\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: result.class\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: result.stream\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: subject\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 870,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data.openingTerm || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data.midTerm || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data.endTerm || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data.grade\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: result.rank\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: result.comment || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: result.teacher\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 877,\n              columnNumber: 21\n            }, this)]\n          }, `${result.studentId}-${subject}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 19\n          }, this)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 863,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 847,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 807,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 443,\n    columnNumber: 5\n  }, this);\n}\n_s(Admin, \"i4GTUbXIpNTkUgz4clIIqRNzuwA=\", false, function () {\n  return [useNavigate];\n});\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","axios","useNavigate","jsxDEV","_jsxDEV","Admin","_s","user","logout","navigate","userForm","setUserForm","email","password","role","class","stream","classForm","setClassForm","name","streamForm","setStreamForm","announcementForm","setAnnouncementForm","title","content","image","category","classes","setClasses","streams","setStreams","announcements","setAnnouncements","results","setResults","resultFilters","setResultFilters","studentCounts","setStudentCounts","totalStudents","classCounts","streamCounts","editingId","setEditingId","editingClassId","setEditingClassId","editingStreamId","setEditingStreamId","error","setError","loading","setLoading","fetchData","token","localStorage","getItem","setTimeout","school","announcementsRes","classesRes","streamsRes","resultsRes","countsRes","Promise","all","get","params","headers","Authorization","data","sort","a","b","Date","createdAt","aggregateResults","_error$response","console","response","status","removeItem","_error$response2","_error$response2$data","rawResults","studentMap","forEach","result","studentId","student","_id","_result$class","_result$stream","_result$teacher","subjects","comment","teacher","type","subject","openingTerm","midTerm","endTerm","examType","score","students","Object","values","scores","filter","average","length","reduce","sum","toFixed","grade","calculateGrade","totalAverage","map","s","avg","parseFloat","index","rank","toLowerCase","includes","handleUserInputChange","e","value","target","prev","newForm","handleClassInputChange","handleStreamInputChange","handleAnnouncementInputChange","handleImageUpload","file","files","size","formData","FormData","append","post","url","_error$response3","_error$response3$data","handleAddUser","payload","undefined","alert","_error$response4","_error$response4$data","handleAddClass","put","cls","_error$response5","_error$response5$data","handleAddStream","str","_error$response6","_error$response6$data","handleAnnouncementSubmit","preventDefault","ann","_error$response7","_error$response7$data","handleEditClass","handleEditStream","handleEditAnnouncement","announcement","handleDeleteClass","id","window","confirm","delete","_error$response8","_error$response8$data","handleDeleteStream","_error$response9","_error$response9$data","handleDeleteAnnouncement","_error$response0","_error$response0$data","handleResultFilterChange","fetchResults","classId","streamId","_error$response1","_error$response1$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","onChange","placeholder","required","disabled","onClick","count","streamName","_classes$find","find","onSubmit","rows","accept","src","alt","toLocaleDateString","entries","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/ClassCore/client/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../components/Auth';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/Admin.css';\n\nfunction Admin() {\n  const { user, logout } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [userForm, setUserForm] = useState({\n    email: '',\n    password: '',\n    role: 'teacher',\n    class: '',\n    stream: '',\n  });\n  const [classForm, setClassForm] = useState({ name: '' });\n  const [streamForm, setStreamForm] = useState({ name: '', class: '' });\n  const [announcementForm, setAnnouncementForm] = useState({\n    title: '',\n    content: '',\n    image: '',\n    category: 'announcement',\n  });\n  const [classes, setClasses] = useState([]);\n  const [streams, setStreams] = useState([]);\n  const [announcements, setAnnouncements] = useState([]);\n  const [results, setResults] = useState([]);\n  const [resultFilters, setResultFilters] = useState({ class: '', stream: '' });\n  const [studentCounts, setStudentCounts] = useState({\n    totalStudents: 0,\n    classCounts: [],\n    streamCounts: [],\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [editingClassId, setEditingClassId] = useState(null);\n  const [editingStreamId, setEditingStreamId] = useState(null);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setError('');\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        if (!token) {\n          setError('No token found. Redirecting to login...');\n          setTimeout(() => navigate('/login'), 2000);\n          return;\n        }\n        const school = user?.school || '6826c6741e8bb0ac59a1bea9';\n        const [announcementsRes, classesRes, streamsRes, resultsRes, countsRes] = await Promise.all([\n          axios.get('http://localhost:5000/api/announcements', {\n            params: { school },\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          axios.get('http://localhost:5000/api/classes', {\n            params: { school },\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          axios.get('http://localhost:5000/api/streams', {\n            params: { school },\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          axios.get('http://localhost:5000/api/results', {\n            params: { school },\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          axios.get('http://localhost:5000/api/users/count', {\n            params: { school },\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n        ]);\n        setAnnouncements(announcementsRes.data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)));\n        setClasses(classesRes.data);\n        setStreams(streamsRes.data);\n        setResults(aggregateResults(resultsRes.data));\n        setStudentCounts(countsRes.data);\n      } catch (error) {\n        console.error('Fetch error:', error);\n        if (error.response?.status === 401) {\n          setError('Session expired. Redirecting to login...');\n          localStorage.removeItem('token');\n          setTimeout(() => {\n            logout();\n            navigate('/login');\n          }, 2000);\n        } else {\n          setError(error.response?.data?.error || 'Failed to load data');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (user && user.role === 'admin') {\n      fetchData();\n    } else {\n      setError('Access denied: Admins only');\n      setLoading(false);\n    }\n  }, [user, navigate, logout]);\n\n  const aggregateResults = (rawResults) => {\n    const studentMap = {};\n    rawResults.forEach((result) => {\n      const studentId = result.student._id;\n      if (!studentMap[studentId]) {\n        studentMap[studentId] = {\n          studentId,\n          student: result.student.email,\n          class: result.class?.name || '-',\n          stream: result.stream?.name || '-',\n          subjects: {},\n          comment: '',\n          teacher: result.teacher?.email || '-',\n        };\n      }\n      if (result.type === 'exam') {\n        if (!studentMap[studentId].subjects[result.subject]) {\n          studentMap[studentId].subjects[result.subject] = {\n            openingTerm: null,\n            midTerm: null,\n            endTerm: null,\n          };\n        }\n        studentMap[studentId].subjects[result.subject][result.examType] = result.score;\n      } else if (result.type === 'comment') {\n        studentMap[studentId].comment = result.comment;\n      }\n    });\n\n    const students = Object.values(studentMap);\n    students.forEach((student) => {\n      Object.values(student.subjects).forEach((subject) => {\n        const scores = [\n          subject.openingTerm,\n          subject.midTerm,\n          subject.endTerm,\n        ].filter((score) => score !== null);\n        const average = scores.length\n          ? (scores.reduce((sum, score) => sum + score, 0) / scores.length).toFixed(1)\n          : null;\n        subject.average = average;\n        subject.grade = average ? calculateGrade(average, student.comment) : '-';\n      });\n      const totalAverage = Object.values(student.subjects)\n        .map((s) => s.average)\n        .filter((a) => a !== null)\n        .reduce((sum, avg) => sum + parseFloat(avg), 0) /\n        Object.values(student.subjects).length || null;\n      student.totalAverage = totalAverage ? totalAverage.toFixed(1) : null;\n    });\n\n    students.sort((a, b) => (b.totalAverage || 0) - (a.totalAverage || 0));\n    students.forEach((student, index) => {\n      student.rank = student.totalAverage ? index + 1 : '-';\n    });\n\n    return students;\n  };\n\n  const calculateGrade = (score, comment) => {\n    if (comment && comment.toLowerCase().includes('cheat')) return 'Y';\n    if (score >= 80) return 'A';\n    if (score >= 70) return 'B';\n    if (score >= 60) return 'C';\n    if (score >= 50) return 'D';\n    return 'E';\n  };\n\n  const handleUserInputChange = (e) => {\n    const { name, value } = e.target;\n    setUserForm((prev) => {\n      const newForm = { ...prev, [name]: value };\n      if (name === 'class') {\n        newForm.stream = '';\n      }\n      return newForm;\n    });\n  };\n\n  const handleClassInputChange = (e) => {\n    setClassForm({ name: e.target.value });\n  };\n\n  const handleStreamInputChange = (e) => {\n    const { name, value } = e.target;\n    setStreamForm({ ...streamForm, [name]: value });\n  };\n\n  const handleAnnouncementInputChange = (e) => {\n    const { name, value } = e.target;\n    setAnnouncementForm({ ...announcementForm, [name]: value });\n  };\n\n  const handleImageUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) {\n      setError('No file selected');\n      return;\n    }\n    if (!['image/jpeg', 'image/png'].includes(file.type)) {\n      setError('Only JPEG or PNG images are allowed');\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      setError('File size exceeds 5MB limit');\n      return;\n    }\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      formData.append('image', file);\n      const response = await axios.post('http://localhost:5000/api/upload-image', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setAnnouncementForm({ ...announcementForm, image: response.data.url });\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to upload image');\n    }\n  };\n\n  const handleAddUser = async () => {\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('No token found. Redirecting to login...');\n        setTimeout(() => navigate('/login'), 2000);\n        return;\n      }\n      if (userForm.role === 'student' && (!userForm.class || !userForm.stream)) {\n        setError('Class and stream are required for students');\n        return;\n      }\n      const payload = {\n        email: userForm.email,\n        password: userForm.password,\n        role: userForm.role,\n        class: userForm.class || undefined,\n        stream: userForm.stream || undefined,\n        school: user?.school || '6826c6741e8bb0ac59a1bea9',\n      };\n      await axios.post('http://localhost:5000/api/users', payload, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      alert('User added successfully');\n      setUserForm({ email: '', password: '', role: 'teacher', class: '', stream: '' });\n      const countsRes = await axios.get('http://localhost:5000/api/users/count', {\n        params: { school: user?.school || '6826c6741e8bb0ac59a1bea9' },\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setStudentCounts(countsRes.data);\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to add user');\n    }\n  };\n\n  const handleAddClass = async () => {\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const payload = { name: classForm.name, school: user?.school || '6826c6741e8bb0ac59a1bea9' };\n      let response;\n      if (editingClassId) {\n        response = await axios.put(`http://localhost:5000/api/classes/${editingClassId}`, payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setClasses(classes.map((cls) => (cls._id === editingClassId ? response.data : cls)));\n        setEditingClassId(null);\n      } else {\n        response = await axios.post('http://localhost:5000/api/classes', payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setClasses([...classes, response.data]);\n      }\n      alert(editingClassId ? 'Class updated' : 'Class added');\n      setClassForm({ name: '' });\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to save class');\n    }\n  };\n\n  const handleAddStream = async () => {\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const payload = {\n        name: streamForm.name,\n        class: streamForm.class,\n        school: user?.school || '6826c6741e8bb0ac59a1bea9',\n      };\n      let response;\n      if (editingStreamId) {\n        response = await axios.put(`http://localhost:5000/api/streams/${editingStreamId}`, payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setStreams(streams.map((str) => (str._id === editingStreamId ? response.data : str)));\n        setEditingStreamId(null);\n      } else {\n        response = await axios.post('http://localhost:5000/api/streams', payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setStreams([...streams, response.data]);\n      }\n      alert(editingStreamId ? 'Stream updated' : 'Stream added');\n      setStreamForm({ name: '', class: '' });\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to save stream');\n    }\n  };\n\n  const handleAnnouncementSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      const payload = { ...announcementForm, school: user?.school || '6826c6741e8bb0ac59a1bea9' };\n      let response;\n      if (editingId) {\n        response = await axios.put(`http://localhost:5000/api/announcements/${editingId}`, payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setAnnouncements(announcements.map((ann) => (ann._id === editingId ? response.data : ann)).sort(\n          (a, b) => new Date(b.createdAt) - new Date(a.createdAt)\n        ));\n        setEditingId(null);\n      } else {\n        response = await axios.post('http://localhost:5000/api/announcements', payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setAnnouncements([response.data, ...announcements].sort(\n          (a, b) => new Date(b.createdAt) - new Date(a.createdAt)\n        ));\n      }\n      alert(editingId ? 'Announcement updated' : 'Announcement added');\n      setAnnouncementForm({ title: '', content: '', image: '', category: 'announcement' });\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to save announcement');\n    }\n  };\n\n  const handleEditClass = (cls) => {\n    setClassForm({ name: cls.name });\n    setEditingClassId(cls._id);\n  };\n\n  const handleEditStream = (stream) => {\n    setStreamForm({ name: stream.name, class: stream.class });\n    setEditingStreamId(stream._id);\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setAnnouncementForm({\n      title: announcement.title,\n      content: announcement.content,\n      image: announcement.image || '',\n      category: announcement.category || 'announcement',\n    });\n    setEditingId(announcement._id);\n  };\n\n  const handleDeleteClass = async (id) => {\n    if (!window.confirm('Delete this class?')) return;\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/classes/${id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setClasses(classes.filter((cls) => cls._id !== id));\n      alert('Class deleted');\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to delete class');\n    }\n  };\n\n  const handleDeleteStream = async (id) => {\n    if (!window.confirm('Delete this stream?')) return;\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/streams/${id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setStreams(streams.filter((str) => str._id !== id));\n      alert('Stream deleted');\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to delete stream');\n    }\n  };\n\n  const handleDeleteAnnouncement = async (id) => {\n    if (!window.confirm('Delete this announcement?')) return;\n    try {\n      setError('');\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/announcements/${id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setAnnouncements(announcements.filter((ann) => ann._id !== id));\n      alert('Announcement deleted');\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to delete announcement');\n    }\n  };\n\n  const handleResultFilterChange = async (e) => {\n    const { name, value } = e.target;\n    setResultFilters((prev) => ({ ...prev, [name]: value }));\n    await fetchResults(\n      user?.school || '6826c6741e8bb0ac59a1bea9',\n      name === 'class' ? value : resultFilters.class,\n      name === 'stream' ? value : resultFilters.stream\n    );\n  };\n\n  const fetchResults = async (school, classId, streamId) => {\n    try {\n      const params = { school };\n      if (classId) params.class = classId;\n      if (streamId) params.stream = streamId;\n      const response = await axios.get('http://localhost:5000/api/results', {\n        params,\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      setResults(aggregateResults(response.data));\n    } catch (error) {\n      setError(error.response?.data?.error || 'Failed to load results');\n    }\n  };\n\n  if (!user || user.role !== 'admin') {\n    return <p className=\"error\">Access denied: Admins only</p>;\n  }\n\n  return (\n    <div className=\"page-container\">\n      <h1>Admin Dashboard</h1>\n      {error && <p className=\"error\">{error}</p>}\n      <div className=\"form-container\">\n        <h3>Add User</h3>\n        <form className=\"admin-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={userForm.email}\n              onChange={handleUserInputChange}\n              placeholder=\"User Email\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={userForm.password}\n              onChange={handleUserInputChange}\n              placeholder=\"User Password\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"role\">Role</label>\n            <select id=\"role\" name=\"role\" value={userForm.role} onChange={handleUserInputChange}>\n              <option value=\"teacher\">Teacher</option>\n              <option value=\"parent\">Parent</option>\n              <option value=\"student\">Student</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"class\">Class {userForm.role === 'student' && '(Required)'}</label>\n            <select\n              id=\"class\"\n              name=\"class\"\n              value={userForm.class}\n              onChange={handleUserInputChange}\n              required={userForm.role === 'student'}\n            >\n              <option value=\"\">Select Class</option>\n              {classes.map((cls) => (\n                <option key={cls._id} value={cls._id}>\n                  {cls.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"stream\">Stream {userForm.role === 'student' && '(Required)'}</label>\n            <select\n              id=\"stream\"\n              name=\"stream\"\n              value={userForm.stream}\n              onChange={handleUserInputChange}\n              required={userForm.role === 'student'}\n              disabled={!userForm.class}\n            >\n              <option value=\"\">Select Stream</option>\n              {streams\n                .filter((s) => !userForm.class || s.class === userForm.class)\n                .map((stream) => (\n                  <option key={stream._id} value={stream._id}>\n                    {stream.name}\n                  </option>\n                ))}\n            </select>\n          </div>\n          <button type=\"button\" onClick={handleAddUser}>\n            Add User\n          </button>\n        </form>\n      </div>\n      <div className=\"form-container\">\n        <h3>Student Statistics</h3>\n        <div className=\"stats-container\">\n          <div className=\"stat-box\">\n            <h4>Total Students</h4>\n            <p>{studentCounts.totalStudents}</p>\n          </div>\n          <div className=\"stat-box\">\n            <h4>Students per Class</h4>\n            {studentCounts.classCounts.length === 0 ? (\n              <p>No students assigned</p>\n            ) : (\n              <ul>\n                {studentCounts.classCounts.map((count) => (\n                  <li key={count.classId}>\n                    {count.className}: {count.count}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n          <div className=\"stat-box\">\n            <h4>Students per Stream</h4>\n            {studentCounts.streamCounts.length === 0 ? (\n              <p>No students assigned</p>\n            ) : (\n              <ul>\n                {studentCounts.streamCounts.map((count) => (\n                  <li key={count.streamId}>\n                    {count.streamName} ({count.className}): {count.count}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"form-container\">\n        <h3>{editingClassId ? 'Edit Class' : 'Add Class'}</h3>\n        <form className=\"admin-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"className\">Class Name</label>\n            <input\n              type=\"text\"\n              id=\"className\"\n              value={classForm.name}\n              onChange={handleClassInputChange}\n              placeholder=\"e.g., Grade 1\"\n              required\n            />\n          </div>\n          <button type=\"button\" onClick={handleAddClass}>\n            {editingClassId ? 'Update Class' : 'Add Class'}\n          </button>\n          {editingClassId && (\n            <button\n              type=\"button\"\n              className=\"cancel-button\"\n              onClick={() => {\n                setClassForm({ name: '' });\n                setEditingClassId(null);\n              }}\n            >\n              Cancel\n            </button>\n          )}\n        </form>\n      </div>\n      <div className=\"form-container\">\n        <h3>{editingStreamId ? 'Edit Stream' : 'Add Stream'}</h3>\n        <form className=\"admin-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"streamName\">Stream Name</label>\n            <input\n              type=\"text\"\n              id=\"streamName\"\n              name=\"name\"\n              value={streamForm.name}\n              onChange={handleStreamInputChange}\n              placeholder=\"e.g., Grade 1A\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"streamClass\">Class</label>\n            <select\n              id=\"streamClass\"\n              name=\"class\"\n              value={streamForm.class}\n              onChange={handleStreamInputChange}\n              required\n            >\n              <option value=\"\">Select Class</option>\n              {classes.map((cls) => (\n                <option key={cls._id} value={cls._id}>\n                  {cls.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          <button type=\"button\" onClick={handleAddStream}>\n            {editingStreamId ? 'Update Stream' : 'Add Stream'}\n          </button>\n          {editingStreamId && (\n            <button\n              type=\"button\"\n              className=\"cancel-button\"\n              onClick={() => {\n                setStreamForm({ name: '', class: '' });\n                setEditingStreamId(null);\n              }}\n            >\n              Cancel\n            </button>\n          )}\n        </form>\n      </div>\n      <div className=\"form-container\">\n        <h3>Manage Classes</h3>\n        {classes.length === 0 ? (\n          <p>No classes available</p>\n        ) : (\n          <table className=\"admin-table\">\n            <thead>\n              <tr>\n                <th>Class Name</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {classes.map((cls) => (\n                <tr key={cls._id}>\n                  <td>{cls.name}</td>\n                  <td>\n                    <button onClick={() => handleEditClass(cls)}>Edit</button>\n                    <button className=\"delete-button\" onClick={() => handleDeleteClass(cls._id)}>\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n      <div className=\"form-container\">\n        <h3>Manage Streams</h3>\n        {streams.length === 0 ? (\n          <p>No streams available</p>\n        ) : (\n          <table className=\"admin-table\">\n            <thead>\n              <tr>\n                <th>Stream Name</th>\n                <th>Class</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {streams.map((stream) => (\n                <tr key={stream._id}>\n                  <td>{stream.name}</td>\n                  <td>{classes.find((cls) => cls._id === stream.class)?.name || '-'}</td>\n                  <td>\n                    <button onClick={() => handleEditStream(stream)}>Edit</button>\n                    <button className=\"delete-button\" onClick={() => handleDeleteStream(stream._id)}>\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n      <div className=\"form-container\">\n        <h3>{editingId ? 'Edit Announcement' : 'Add Announcement'}</h3>\n        <form className=\"admin-form\" onSubmit={handleAnnouncementSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">Title</label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              name=\"title\"\n              value={announcementForm.title}\n              onChange={handleAnnouncementInputChange}\n              placeholder=\"Announcement Title\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"content\">Content</label>\n            <textarea\n              id=\"content\"\n              name=\"content\"\n              value={announcementForm.content}\n              onChange={handleAnnouncementInputChange}\n              placeholder=\"Announcement Content\"\n              rows=\"5\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"image\">Image (Optional)</label>\n            <input\n              type=\"file\"\n              id=\"image\"\n              name=\"image\"\n              accept=\"image/jpeg,image/png\"\n              onChange={handleImageUpload}\n            />\n            {announcementForm.image && (\n              <div className=\"image-preview\">\n                <img src={announcementForm.image} alt=\"Preview\" />\n              </div>\n            )}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"category\">Category</label>\n            <select\n              id=\"category\"\n              name=\"category\"\n              value={announcementForm.category}\n              onChange={handleAnnouncementInputChange}\n            >\n              <option value=\"announcement\">Announcement</option>\n              <option value=\"news\">News</option>\n              <option value=\"article\">Article</option>\n              <option value=\"activity\">Activity</option>\n            </select>\n          </div>\n          <button type=\"submit\">{editingId ? 'Update' : 'Add'} Announcement</button>\n          {editingId && (\n            <button\n              type=\"button\"\n              className=\"cancel-button\"\n              onClick={() => {\n                setAnnouncementForm({ title: '', content: '', image: '', category: 'announcement' });\n                setEditingId(null);\n              }}\n            >\n              Cancel\n            </button>\n          )}\n        </form>\n      </div>\n      {loading ? (\n        <p className=\"loading\">Loading...</p>\n      ) : announcements.length === 0 ? (\n        <p className=\"no-content\">No announcements available</p>\n      ) : (\n        <div className=\"admin-announcements\">\n          <h3>Existing Announcements</h3>\n          <div className=\"admin-announcement-grid\">\n            {announcements.map((announcement) => (\n              <div key={announcement._id} className=\"admin-announcement-card\">\n                {announcement.image && (\n                  <img src={announcement.image} alt={announcement.title} className=\"admin-card-image\" />\n                )}\n                <div className=\"admin-card-content\">\n                  <h4>{announcement.title}</h4>\n                  <p className=\"admin-card-summary\">{announcement.content}</p>\n                  <span className={`category-tag ${announcement.category}`}>\n                    {announcement.category || 'Announcement'}\n                  </span>\n                  <p className=\"admin-post-date\">\n                    Posted: {new Date(announcement.createdAt).toLocaleDateString()}\n                  </p>\n                  <div className=\"admin-card-actions\">\n                    <button onClick={() => handleEditAnnouncement(announcement)}>Edit</button>\n                    <button\n                      className=\"delete-button\"\n                      onClick={() => handleDeleteAnnouncement(announcement._id)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      <div className=\"form-container\">\n        <h3>View Results</h3>\n        <div className=\"form-group\">\n          <label htmlFor=\"resultClass\">Class</label>\n          <select\n            id=\"resultClass\"\n            name=\"class\"\n            value={resultFilters.class}\n            onChange={handleResultFilterChange}\n          >\n            <option value=\"\">All Classes</option>\n            {classes.map((cls) => (\n              <option key={cls._id} value={cls._id}>\n                {cls.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"resultStream\">Stream</label>\n          <select\n            id=\"resultStream\"\n            name=\"stream\"\n            value={resultFilters.stream}\n            onChange={handleResultFilterChange}\n            disabled={!resultFilters.class}\n          >\n            <option value=\"\">All Streams</option>\n            {streams\n              .filter((s) => !resultFilters.class || s.class === resultFilters.class)\n              .map((stream) => (\n                <option key={stream._id} value={stream._id}>\n                  {stream.name}\n                </option>\n              ))}\n          </select>\n        </div>\n        {results.length === 0 ? (\n          <p>No results available</p>\n        ) : (\n          <table className=\"admin-table\">\n            <thead>\n              <tr>\n                <th>Student</th>\n                <th>Class</th>\n                <th>Stream</th>\n                <th>Subject</th>\n                <th>Opening-Term Exam</th>\n                <th>Mid-Term Exam</th>\n                <th>End Term Marks</th>\n                <th>Grade</th>\n                <th>Rank</th>\n                <th>Comment</th>\n                <th>Teacher</th>\n              </tr>\n            </thead>\n            <tbody>\n              {results.map((result) =>\n                Object.entries(result.subjects).map(([subject, data]) => (\n                  <tr key={`${result.studentId}-${subject}`}>\n                    <td>{result.student}</td>\n                    <td>{result.class}</td>\n                    <td>{result.stream}</td>\n                    <td>{subject}</td>\n                    <td>{data.openingTerm || '-'}</td>\n                    <td>{data.midTerm || '-'}</td>\n                    <td>{data.endTerm || '-'}</td>\n                    <td>{data.grade}</td>\n                    <td>{result.rank}</td>\n                    <td>{result.comment || '-'}</td>\n                    <td>{result.teacher}</td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Admin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}