{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\ClassCore\\\\client\\\\src\\\\pages\\\\Teacher.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../components/Auth';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Teacher() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [form, setForm] = useState({\n    student: '',\n    subject: '',\n    score: '',\n    attendance: 'present',\n    comment: ''\n  });\n  const [results, setResults] = useState([]);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchResults = async () => {\n      try {\n        const school = (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9';\n        console.log('Fetching results for school:', school);\n        const response = await axios.get('http://localhost:5000/api/results', {\n          params: {\n            school\n          }\n        });\n        console.log('Results received:', response.data);\n        setResults(aggregateResults(response.data));\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('Fetch results error:', error);\n        setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to load results');\n      }\n    };\n    fetchResults();\n  }, [user]);\n\n  // Aggregate results by student\n  const aggregateResults = rawResults => {\n    const studentMap = {};\n    rawResults.forEach(result => {\n      const studentId = result.student._id;\n      if (!studentMap[studentId]) {\n        studentMap[studentId] = {\n          studentId,\n          student: result.student.email,\n          subjects: {},\n          attendance: '',\n          comment: ''\n        };\n      }\n      if (result.type === 'exam' || result.type === 'cat') {\n        studentMap[studentId].subjects[result.subject] = {\n          score: result.score,\n          id: result._id\n        };\n      } else if (result.type === 'attendance') {\n        studentMap[studentId].attendance = result.attendance;\n        studentMap[studentId].attendanceId = result._id;\n      } else if (result.type === 'comment') {\n        studentMap[studentId].comment = result.comment;\n        studentMap[studentId].commentId = result._id;\n      }\n    });\n    return Object.values(studentMap);\n  };\n  const handleInputChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async () => {\n    try {\n      setError('');\n      // Submit subject score (if provided)\n      if (form.subject && form.score) {\n        const scorePayload = {\n          student: form.student,\n          type: 'exam',\n          subject: form.subject,\n          score: parseFloat(form.score),\n          school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n        };\n        console.log('Submitting score:', scorePayload);\n        await axios.post('http://localhost:5000/api/results', scorePayload);\n      }\n      // Submit attendance (if not empty)\n      if (form.attendance) {\n        const attendancePayload = {\n          student: form.student,\n          type: 'attendance',\n          attendance: form.attendance,\n          school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n        };\n        console.log('Submitting attendance:', attendancePayload);\n        await axios.post('http://localhost:5000/api/results', attendancePayload);\n      }\n      // Submit comment (if not empty)\n      if (form.comment) {\n        const commentPayload = {\n          student: form.student,\n          type: 'comment',\n          comment: form.comment,\n          school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n        };\n        console.log('Submitting comment:', commentPayload);\n        await axios.post('http://localhost:5000/api/results', commentPayload);\n      }\n      console.log('Result(s) added');\n      alert('Result(s) added successfully');\n      setForm({\n        student: '',\n        subject: '',\n        score: '',\n        attendance: 'present',\n        comment: ''\n      });\n      const resultsResponse = await axios.get('http://localhost:5000/api/results', {\n        params: {\n          school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n        }\n      });\n      setResults(aggregateResults(resultsResponse.data));\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Add result error:', error);\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to add result');\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      setError('');\n      console.log('Deleting result:', id);\n      const response = await axios.delete(`http://localhost:5000/api/results/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      console.log('Result deleted:', response.data);\n      alert('Result deleted successfully');\n      const resultsResponse = await axios.get('http://localhost:5000/api/results', {\n        params: {\n          school: (user === null || user === void 0 ? void 0 : user.school) || '6826c6741e8bb0ac59a1bea9'\n        }\n      });\n      setResults(aggregateResults(resultsResponse.data));\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Delete result error:', error);\n      setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to delete result');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Teacher Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add Student Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"student\",\n        value: form.student,\n        onChange: handleInputChange,\n        placeholder: \"Student ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"subject\",\n        value: form.subject,\n        onChange: handleInputChange,\n        placeholder: \"Subject (e.g., Math)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"score\",\n        value: form.score,\n        onChange: handleInputChange,\n        placeholder: \"Score (0-100)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"attendance\",\n        value: form.attendance,\n        onChange: handleInputChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"present\",\n          children: \"Present\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"absent\",\n          children: \"Absent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"excused\",\n          children: \"Excused\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"comment\",\n        value: form.comment,\n        onChange: handleInputChange,\n        placeholder: \"Comment (e.g., Great effort, Caught cheating)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        children: \"Add Result\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Manage Students\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"results-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Subjects\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: results.map(result => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: result.student\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: Object.entries(result.subjects).map(([subject, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [subject, \": \", data.score, /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-button\",\n                  onClick: () => handleDelete(data.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 25\n                }, this)]\n              }, subject, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [result.attendance || '-', result.attendanceId && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => handleDelete(result.attendanceId),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [result.comment || '-', result.commentId && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => handleDelete(result.commentId),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this)]\n          }, result.studentId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_s(Teacher, \"gYv3H0372wpyFcja5swj838LSjM=\");\n_c = Teacher;\nexport default Teacher;\nvar _c;\n$RefreshReg$(_c, \"Teacher\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","axios","jsxDEV","_jsxDEV","Teacher","_s","user","form","setForm","student","subject","score","attendance","comment","results","setResults","error","setError","fetchResults","school","console","log","response","get","params","data","aggregateResults","_error$response","_error$response$data","rawResults","studentMap","forEach","result","studentId","_id","email","subjects","type","id","attendanceId","commentId","Object","values","handleInputChange","e","target","name","value","handleSubmit","scorePayload","parseFloat","post","attendancePayload","commentPayload","alert","resultsResponse","_error$response2","_error$response2$data","handleDelete","delete","headers","Authorization","localStorage","getItem","_error$response3","_error$response3$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","placeholder","onClick","length","map","entries","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/ClassCore/client/src/pages/Teacher.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../components/Auth';\r\nimport axios from 'axios';\r\n\r\nfunction Teacher() {\r\n  const { user } = useContext(AuthContext);\r\n  const [form, setForm] = useState({\r\n    student: '',\r\n    subject: '',\r\n    score: '',\r\n    attendance: 'present',\r\n    comment: '',\r\n  });\r\n  const [results, setResults] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchResults = async () => {\r\n      try {\r\n        const school = user?.school || '6826c6741e8bb0ac59a1bea9';\r\n        console.log('Fetching results for school:', school);\r\n        const response = await axios.get('http://localhost:5000/api/results', {\r\n          params: { school },\r\n        });\r\n        console.log('Results received:', response.data);\r\n        setResults(aggregateResults(response.data));\r\n      } catch (error) {\r\n        console.error('Fetch results error:', error);\r\n        setError(error.response?.data?.error || 'Failed to load results');\r\n      }\r\n    };\r\n    fetchResults();\r\n  }, [user]);\r\n\r\n  // Aggregate results by student\r\n  const aggregateResults = (rawResults) => {\r\n    const studentMap = {};\r\n    rawResults.forEach((result) => {\r\n      const studentId = result.student._id;\r\n      if (!studentMap[studentId]) {\r\n        studentMap[studentId] = {\r\n          studentId,\r\n          student: result.student.email,\r\n          subjects: {},\r\n          attendance: '',\r\n          comment: '',\r\n        };\r\n      }\r\n      if (result.type === 'exam' || result.type === 'cat') {\r\n        studentMap[studentId].subjects[result.subject] = { score: result.score, id: result._id };\r\n      } else if (result.type === 'attendance') {\r\n        studentMap[studentId].attendance = result.attendance;\r\n        studentMap[studentId].attendanceId = result._id;\r\n      } else if (result.type === 'comment') {\r\n        studentMap[studentId].comment = result.comment;\r\n        studentMap[studentId].commentId = result._id;\r\n      }\r\n    });\r\n    return Object.values(studentMap);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setError('');\r\n      // Submit subject score (if provided)\r\n      if (form.subject && form.score) {\r\n        const scorePayload = {\r\n          student: form.student,\r\n          type: 'exam',\r\n          subject: form.subject,\r\n          score: parseFloat(form.score),\r\n          school: user?.school || '6826c6741e8bb0ac59a1bea9',\r\n        };\r\n        console.log('Submitting score:', scorePayload);\r\n        await axios.post('http://localhost:5000/api/results', scorePayload);\r\n      }\r\n      // Submit attendance (if not empty)\r\n      if (form.attendance) {\r\n        const attendancePayload = {\r\n          student: form.student,\r\n          type: 'attendance',\r\n          attendance: form.attendance,\r\n          school: user?.school || '6826c6741e8bb0ac59a1bea9',\r\n        };\r\n        console.log('Submitting attendance:', attendancePayload);\r\n        await axios.post('http://localhost:5000/api/results', attendancePayload);\r\n      }\r\n      // Submit comment (if not empty)\r\n      if (form.comment) {\r\n        const commentPayload = {\r\n          student: form.student,\r\n          type: 'comment',\r\n          comment: form.comment,\r\n          school: user?.school || '6826c6741e8bb0ac59a1bea9',\r\n        };\r\n        console.log('Submitting comment:', commentPayload);\r\n        await axios.post('http://localhost:5000/api/results', commentPayload);\r\n      }\r\n      console.log('Result(s) added');\r\n      alert('Result(s) added successfully');\r\n      setForm({ student: '', subject: '', score: '', attendance: 'present', comment: '' });\r\n      const resultsResponse = await axios.get('http://localhost:5000/api/results', {\r\n        params: { school: user?.school || '6826c6741e8bb0ac59a1bea9' },\r\n      });\r\n      setResults(aggregateResults(resultsResponse.data));\r\n    } catch (error) {\r\n      console.error('Add result error:', error);\r\n      setError(error.response?.data?.error || 'Failed to add result');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      setError('');\r\n      console.log('Deleting result:', id);\r\n      const response = await axios.delete(`http://localhost:5000/api/results/${id}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      });\r\n      console.log('Result deleted:', response.data);\r\n      alert('Result deleted successfully');\r\n      const resultsResponse = await axios.get('http://localhost:5000/api/results', {\r\n        params: { school: user?.school || '6826c6741e8bb0ac59a1bea9' },\r\n      });\r\n      setResults(aggregateResults(resultsResponse.data));\r\n    } catch (error) {\r\n      console.error('Delete result error:', error);\r\n      setError(error.response?.data?.error || 'Failed to delete result');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <h1>Teacher Dashboard</h1>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      <div className=\"form-container\">\r\n        <h3>Add Student Results</h3>\r\n        <input\r\n          type=\"text\"\r\n          name=\"student\"\r\n          value={form.student}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Student ID\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"subject\"\r\n          value={form.subject}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Subject (e.g., Math)\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"score\"\r\n          value={form.score}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Score (0-100)\"\r\n        />\r\n        <select name=\"attendance\" value={form.attendance} onChange={handleInputChange}>\r\n          <option value=\"present\">Present</option>\r\n          <option value=\"absent\">Absent</option>\r\n          <option value=\"excused\">Excused</option>\r\n        </select>\r\n        <textarea\r\n          name=\"comment\"\r\n          value={form.comment}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Comment (e.g., Great effort, Caught cheating)\"\r\n        />\r\n        <button onClick={handleSubmit}>Add Result</button>\r\n      </div>\r\n      {results.length > 0 && (\r\n        <div className=\"form-container\">\r\n          <h3>Manage Students</h3>\r\n          <table className=\"results-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Student</th>\r\n                <th>Subjects</th>\r\n                <th>Attendance</th>\r\n                <th>Comment</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {results.map((result) => (\r\n                <tr key={result.studentId}>\r\n                  <td>{result.student}</td>\r\n                  <td>\r\n                    {Object.entries(result.subjects).map(([subject, data]) => (\r\n                      <div key={subject}>\r\n                        {subject}: {data.score}\r\n                        <button\r\n                          className=\"delete-button\"\r\n                          onClick={() => handleDelete(data.id)}\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    ))}\r\n                  </td>\r\n                  <td>\r\n                    {result.attendance || '-'}\r\n                    {result.attendanceId && (\r\n                      <button\r\n                        className=\"delete-button\"\r\n                        onClick={() => handleDelete(result.attendanceId)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    {result.comment || '-'}\r\n                    {result.commentId && (\r\n                      <button\r\n                        className=\"delete-button\"\r\n                        onClick={() => handleDelete(result.commentId)}\r\n                      >\r\n                        Delete\r\n                    </button>\r\n                    )}\r\n                  </td>\r\n                  <td></td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Teacher;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}