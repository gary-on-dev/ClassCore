{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\ClassCore\\\\client\\\\src\\\\pages\\\\Announcements.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Announcements() {\n  _s();\n  const [announcements, setAnnouncements] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all'); // Filter for categories\n\n  useEffect(() => {\n    const fetchAnnouncements = async () => {\n      try {\n        setError('');\n        setLoading(true);\n        const response = await axios.get('http://localhost:5000/api/announcements');\n        console.log('Announcements received:', response.data);\n        const sortedAnnouncements = response.data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n        setAnnouncements(sortedAnnouncements);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('Fetch announcements error:', error);\n        setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to load announcements');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAnnouncements();\n  }, []);\n  const handleFilterChange = category => {\n    setFilter(category);\n  };\n  const filteredAnnouncements = filter === 'all' ? announcements : announcements.filter(ann => ann.category === filter);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hero-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"School News & Updates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Stay informed with the latest announcements, news, and activities\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: filter === 'all' ? 'filter-button active' : 'filter-button',\n        onClick: () => handleFilterChange('all'),\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: filter === 'announcement' ? 'filter-button active' : 'filter-button',\n        onClick: () => handleFilterChange('announcement'),\n        children: \"Announcements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: filter === 'news' ? 'filter-button active' : 'filter-button',\n        onClick: () => handleFilterChange('news'),\n        children: \"News\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: filter === 'article' ? 'filter-button active' : 'filter-button',\n        onClick: () => handleFilterChange('article'),\n        children: \"Articles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: filter === 'activity' ? 'filter-button active' : 'filter-button',\n        onClick: () => handleFilterChange('activity'),\n        children: \"Activities\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"loading\",\n      children: \"Loading announcements...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : filteredAnnouncements.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-content\",\n      children: \"No announcements available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blog-container\",\n      children: filteredAnnouncements.map((announcement, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: index === 0 ? 'featured-post' : 'blog-card',\n        children: [announcement.image && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: announcement.image,\n          alt: announcement.title,\n          className: \"post-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"post-category\",\n            children: announcement.category || 'Announcement'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: announcement.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"post-summary\",\n            children: announcement.content.length > 150 ? `${announcement.content.substring(0, 150)}...` : announcement.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"post-date\",\n            children: [\"Posted: \", new Date(announcement.createdAt).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this)]\n      }, announcement._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Announcements, \"TbocPH80YUFoB3EcF0NEaB+o0zM=\");\n_c = Announcements;\nexport default Announcements;\nvar _c;\n$RefreshReg$(_c, \"Announcements\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Announcements","_s","announcements","setAnnouncements","error","setError","loading","setLoading","filter","setFilter","fetchAnnouncements","response","get","console","log","data","sortedAnnouncements","sort","a","b","Date","createdAt","_error$response","_error$response$data","handleFilterChange","category","filteredAnnouncements","ann","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","announcement","index","image","src","alt","title","content","substring","toLocaleDateString","_id","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/ClassCore/client/src/pages/Announcements.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction Announcements() {\n  const [announcements, setAnnouncements] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all'); // Filter for categories\n\n  useEffect(() => {\n    const fetchAnnouncements = async () => {\n      try {\n        setError('');\n        setLoading(true);\n        const response = await axios.get('http://localhost:5000/api/announcements');\n        console.log('Announcements received:', response.data);\n        const sortedAnnouncements = response.data.sort(\n          (a, b) => new Date(b.createdAt) - new Date(a.createdAt)\n        );\n        setAnnouncements(sortedAnnouncements);\n      } catch (error) {\n        console.error('Fetch announcements error:', error);\n        setError(error.response?.data?.error || 'Failed to load announcements');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAnnouncements();\n  }, []);\n\n  const handleFilterChange = (category) => {\n    setFilter(category);\n  };\n\n  const filteredAnnouncements = filter === 'all'\n    ? announcements\n    : announcements.filter((ann) => ann.category === filter);\n\n  return (\n    <div className=\"blog-page\">\n      <div className=\"hero-section\">\n        <h1>School News & Updates</h1>\n        <p>Stay informed with the latest announcements, news, and activities</p>\n      </div>\n      <div className=\"filter-container\">\n        <button\n          className={filter === 'all' ? 'filter-button active' : 'filter-button'}\n          onClick={() => handleFilterChange('all')}\n        >\n          All\n        </button>\n        <button\n          className={filter === 'announcement' ? 'filter-button active' : 'filter-button'}\n          onClick={() => handleFilterChange('announcement')}\n        >\n          Announcements\n        </button>\n        <button\n          className={filter === 'news' ? 'filter-button active' : 'filter-button'}\n          onClick={() => handleFilterChange('news')}\n        >\n          News\n        </button>\n        <button\n          className={filter === 'article' ? 'filter-button active' : 'filter-button'}\n          onClick={() => handleFilterChange('article')}\n        >\n          Articles\n        </button>\n        <button\n          className={filter === 'activity' ? 'filter-button active' : 'filter-button'}\n          onClick={() => handleFilterChange('activity')}\n        >\n          Activities\n        </button>\n      </div>\n      {error && <p className=\"error\">{error}</p>}\n      {loading ? (\n        <p className=\"loading\">Loading announcements...</p>\n      ) : filteredAnnouncements.length === 0 ? (\n        <p className=\"no-content\">No announcements available</p>\n      ) : (\n        <div className=\"blog-container\">\n          {filteredAnnouncements.map((announcement, index) => (\n            <div\n              key={announcement._id}\n              className={index === 0 ? 'featured-post' : 'blog-card'}\n            >\n              {announcement.image && (\n                <img\n                  src={announcement.image}\n                  alt={announcement.title}\n                  className=\"post-image\"\n                />\n              )}\n              <div className=\"post-content\">\n                <span className=\"post-category\">{announcement.category || 'Announcement'}</span>\n                <h3>{announcement.title}</h3>\n                <p className=\"post-summary\">\n                  {announcement.content.length > 150\n                    ? `${announcement.content.substring(0, 150)}...`\n                    : announcement.content}\n                </p>\n                <p className=\"post-date\">\n                  Posted: {new Date(announcement.createdAt).toLocaleDateString()}\n                </p>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Announcements;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}